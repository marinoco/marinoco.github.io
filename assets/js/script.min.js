function updateCopyright(){let e=document.getElementById("year"),t=new Date().getFullYear();e.textContent=t}function addTitleIcons(){let e=document.querySelectorAll('.title[data-icon="true"]');e.forEach(function(e){let t=document.createElement("span");t.classList.add("title__icon"),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)})}function loadSvgs(){let e=document.querySelectorAll("[data-svg]");e.forEach(function(e){let t=e.getAttribute("data-svg"),a=`../assets/images/${t}.svg`;fetch(a).then(e=>e.text()).then(t=>{e.innerHTML=t,e.removeAttribute("data-svg")}).catch(e=>{console.error("SVGの読み込みエラー:",e)})})}function loadImages(){let e="../assets/images/",t=[".jpg",".png"];function a(t,a,n,i){t.src=`${e}${a}${n}${i}`,t.removeAttribute("data-src")}let n=0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp"),i=window.innerWidth,r=document.querySelectorAll("[data-src]");r.forEach(function(r){let l=r.dataset.src,s=i<=767?"-sp":"";if(r.parentElement.classList.contains("hero__image"))r.src=`${e}${l}${s}${n?".webp":".jpg"}`,r.removeAttribute("data-src");else if(n)a(r,l,s,".webp");else{var d,c,o;let u;d=r,c=l,o=s,u=0,function n(){let i=t[u],r=new Image;r.onload=function(){a(d,c,o,i)},r.onerror=function(){++u<t.length&&n()},r.src=`${e}${c}${o}${i}`}()}})}function initModal(){var e=document.createElement("div");e.classList.add("overlay");var t=document.createElement("img");t.classList.add("overlay__item");var a=document.createElement("button");a.classList.add("overlay__close"),a.innerHTML="&times;",e.appendChild(t),e.appendChild(a),document.body.appendChild(e);var n=document.querySelectorAll('.gallery__link[data-modal="true"]'),i=function(a){t.setAttribute("src",a),e.classList.add("active"),setTimeout(function(){t.classList.add("active")},100)},r=function(){t.classList.remove("active"),setTimeout(function(){e.classList.remove("active")},300)};n.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),i(this.getAttribute("href"))})}),a.addEventListener("click",r),e.addEventListener("click",function(t){t.target===e&&r()})}function handleSidebarResize(){let e=document.querySelector(".sidebar"),t=document.querySelector(".aside-section"),a=document.querySelector(".main"),n=window.innerWidth<=768;n?a.appendChild(t):e.appendChild(t)}document.addEventListener("DOMContentLoaded",function(){updateCopyright(),addTitleIcons(),loadSvgs(),loadImages(),initModal(),handleSidebarResize()}),window.addEventListener("resize",handleSidebarResize);